<app-header></app-header>
<app-sidebar></app-sidebar>
<div class="content-block">
  <h4 class="mt-3 mb-3">My Account
    <a class="btn btn-secondary float-right" (click)="searchTrain()">Search Train</a>
  </h4>
  <div class="row mt-4">
    <div class="col-md-12 mb-4">
      <h5 class="mb-3">Profile Details</h5>
      <table class="account w-100">
        <tr>
          <td>Name</td>
          <td>{{userProfile.Name}}</td>
        </tr>
        <tr>
          <td>Email</td>
          <td>{{userProfile.Email}}</td>
        </tr>
        <tr>
          <td>Mobile</td>
          <td>{{userProfile.Mobile}}</td>
        </tr>
      </table>
    </div>
    <hr class="featurette-divider">
    <div class="col-md-12">
      <h5 class="mb-3">Booking History</h5>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>Train No</th>
              <th>Train Name</th>
              <th>Date</th>
              <th>Start Place</th>
              <th>To Station</th>
              <th class="text-center">1 Seat (Rs)</th>
              <th class="text-center">Seats</th>
              <th>Total (Rs)</th>
              <th class="text-center">Status</th>
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let item of bookingHistory">
              <td>{{item.TrainNumber}}</td>
              <td>{{item.TrainName}}</td>
              <td>{{item.Date}}</td>
              <td>{{item.FromStation}}</td>
              <td>{{item.ToStation}}</td>
              <td class="text-center">{{item.RatePerSeat}}</td>
              <td class="text-center">({{item.Adults}}-A), ({{item.Kids ? item.Kids :'0'}}-K)</td>
              <td class="text-center">{{item.TotalAmount}}</td>
              <td class="text-center">
                <span class="badge badge-success p-2" *ngIf="item.Status == true">Booked</span>
                <span class="badge badge-secondary p-2" *ngIf="item.Status == false">Cancelled</span>
              </td>
            </tr>
            <tr *ngIf="bookingHistory.length == 0 || bookingHistory.length == 'undefined'">
              <td colspan="10" class="text-center">
                <p class="p-3 mb-0">No data avalable</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>